{
  "name": "Triangulate Matrix",
  "type": "COMPOSITE_OPERATION",
  "aliases": [
    "linalg",
    "tril",
    "Triangular Fill",
    "matrix lower triangle",
    "lower triangular matrix",
    "array lower triangle",
    "lower triangular array",
    "tensor lower triangle",
    "lower triangular tensor"
  ],
  "inputs": [
    {
      "name": "Matrix",
      "primitive_name": "Input (1)"
    },
    {
      "name": "Diagonal",
      "data": 0,
      "shape": [],
      "type": "INTEGER",
      "primitive_name": "Input",
      "flow_state": "BOOT_SOURCE"
    }
  ],
  "outputs": [
    {
      "name": "output",
      "primitive_name": "Output",
      "flow_state": "UNBOUND"
    }
  ],
  "operations": [
    {
      "name": "get_shape",
      "primitive_name": "get_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 299,
        "y": 343
      },
      "inputs": [
        {
          "name": "input",
          "primitive_name": "input"
        }
      ],
      "outputs": [
        {
          "name": "shape",
          "primitive_name": "shape",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "Is Array",
      "primitive_name": "Is Array",
      "type": "CLIENT_SIDE_CONSTRAINT_OPERATION",
      "position": {
        "x": 252,
        "y": 44
      },
      "inputs": [
        {
          "name": "variable",
          "primitive_name": "variable"
        }
      ],
      "outputs": []
    },
    {
      "name": "Data Type Is Integer",
      "primitive_name": "Data Type Is Integer",
      "type": "CLIENT_SIDE_CONSTRAINT_OPERATION",
      "position": {
        "x": 525,
        "y": 100
      },
      "inputs": [
        {
          "name": "variable",
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "variable",
          "flow_state": "BOOT_SINK"
        }
      ],
      "outputs": []
    },
    {
      "name": "Is Scalar",
      "primitive_name": "Is Scalar",
      "type": "CLIENT_SIDE_CONSTRAINT_OPERATION",
      "position": {
        "x": 525,
        "y": 205
      },
      "inputs": [
        {
          "name": "variable",
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "variable",
          "flow_state": "BOOT_SINK"
        }
      ],
      "outputs": []
    },
    {
      "name": "get_dimension_size",
      "primitive_name": "get_dimension_size",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 612,
        "y": 343
      },
      "inputs": [
        {
          "name": "array",
          "primitive_name": "array"
        },
        {
          "name": "dimension_index",
          "data": 0,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "dimension_index",
          "flow_state": "BOOT_SOURCE"
        }
      ],
      "outputs": [
        {
          "name": "dimension_size",
          "primitive_name": "dimension_size",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "dimension == 3?",
      "primitive_name": "equal",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 976,
        "y": 704
      },
      "inputs": [
        {
          "name": "left_operand",
          "primitive_name": "left_operand"
        },
        {
          "name": "right_operand",
          "data": 3,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "right_operand",
          "flow_state": "BOOT_SOURCE"
        }
      ],
      "outputs": [
        {
          "name": "is_equal",
          "primitive_name": "is_equal",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "Get row, col arrays",
      "type": "CONDITIONAL_OPERATION",
      "position": {
        "x": 1340,
        "y": 704
      },
      "inputs": [
        {
          "name": "Is True",
          "primitive_name": "Is True"
        },
        {
          "name": "shape",
          "primitive_name": "Input"
        }
      ],
      "outputs": [
        {
          "name": "row array",
          "primitive_name": "Output",
          "flow_state": "UNBOUND"
        },
        {
          "name": "col array",
          "primitive_name": "Output (1)",
          "flow_state": "UNBOUND"
        }
      ],
      "operations_if_true": [
        {
          "name": "get_num_rows",
          "primitive_name": "reduce_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 321,
            "y": 44
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "selected_index",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "selected_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "num_rows",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "get_num_cols",
          "primitive_name": "reduce_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 317,
            "y": 288
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "selected_index",
              "data": 2,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "selected_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "num_cols",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "get_row_array",
          "primitive_name": "range",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 704,
            "y": 74
          },
          "inputs": [
            {
              "name": "start = 0",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "start_value",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "end = rows-1",
              "primitive_name": "end_value"
            },
            {
              "name": "step = 1",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "step_value",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "row array",
              "primitive_name": "vector",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "get_col_array",
          "primitive_name": "range",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 702,
            "y": 287
          },
          "inputs": [
            {
              "name": "start = 0",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "start_value",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "end = cols-1",
              "primitive_name": "end_value"
            },
            {
              "name": "step = 1",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "step_value",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "col array",
              "primitive_name": "vector",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "Transpose 1D and 2D",
          "type": "COMPOSITE_OPERATION",
          "position": {
            "x": 1038,
            "y": 287
          },
          "inputs": [
            {
              "name": "col array ",
              "primitive_name": "Array"
            }
          ],
          "outputs": [
            {
              "name": "col array.T",
              "primitive_name": "Transposed Array",
              "flow_state": "UNBOUND"
            }
          ],
          "operations": [
            {
              "name": "get_shape",
              "primitive_name": "get_shape",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 416,
                "y": 195
              },
              "inputs": [
                {
                  "name": "input",
                  "primitive_name": "input"
                }
              ],
              "outputs": [
                {
                  "name": "shape",
                  "primitive_name": "shape",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "get_dimension_size",
              "primitive_name": "get_dimension_size",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 874,
                "y": 196
              },
              "inputs": [
                {
                  "name": "array",
                  "primitive_name": "array"
                },
                {
                  "name": "dimension_index",
                  "data": 0,
                  "shape": [],
                  "type": "INTEGER",
                  "primitive_name": "dimension_index",
                  "flow_state": "BOOT_SOURCE"
                }
              ],
              "outputs": [
                {
                  "name": "dimension_size",
                  "primitive_name": "dimension_size",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "greater_than",
              "primitive_name": "greater_than",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 1356,
                "y": 196
              },
              "inputs": [
                {
                  "name": "left_operand",
                  "primitive_name": "left_operand"
                },
                {
                  "name": "right_operand",
                  "data": 1,
                  "shape": [],
                  "type": "INTEGER",
                  "primitive_name": "right_operand",
                  "flow_state": "BOOT_SOURCE"
                }
              ],
              "outputs": [
                {
                  "name": "is_greater_than",
                  "primitive_name": "is_greater_than",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "Transpose",
              "type": "CONDITIONAL_OPERATION",
              "position": {
                "x": 1878,
                "y": 196
              },
              "inputs": [
                {
                  "name": "Is True",
                  "primitive_name": "Is True"
                },
                {
                  "name": "Array",
                  "primitive_name": "New Input"
                }
              ],
              "outputs": [
                {
                  "name": "Output",
                  "primitive_name": "Output",
                  "flow_state": "UNBOUND"
                }
              ],
              "operations_if_true": [
                {
                  "name": "swap_dimensions",
                  "primitive_name": "swap_dimensions",
                  "type": "PRIMITIVE_OPERATION",
                  "position": {
                    "x": 592,
                    "y": 47
                  },
                  "inputs": [
                    {
                      "name": "array",
                      "primitive_name": "array"
                    },
                    {
                      "name": "dimension_index_1",
                      "data": 0,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index_1",
                      "flow_state": "BOOT_SOURCE"
                    },
                    {
                      "name": "dimension_index_2",
                      "data": 1,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index_2",
                      "flow_state": "BOOT_SOURCE"
                    }
                  ],
                  "outputs": [
                    {
                      "name": "swapped_array",
                      "primitive_name": "swapped_array",
                      "flow_state": "UNBOUND"
                    }
                  ]
                }
              ],
              "links_if_true": [
                {
                  "source": {
                    "operation": "this",
                    "data": "Array"
                  },
                  "sink": {
                    "operation": "swap_dimensions",
                    "data": "array"
                  },
                  "control_points": []
                },
                {
                  "source": {
                    "operation": "swap_dimensions",
                    "data": "swapped_array"
                  },
                  "sink": {
                    "operation": "this",
                    "data": "Output"
                  },
                  "control_points": []
                }
              ],
              "operations_if_false": [
                {
                  "name": "expand_one_dimension",
                  "primitive_name": "expand_one_dimension",
                  "type": "PRIMITIVE_OPERATION",
                  "position": {
                    "x": 534,
                    "y": 47
                  },
                  "inputs": [
                    {
                      "name": "input",
                      "primitive_name": "input"
                    },
                    {
                      "name": "dimension_index",
                      "data": 0,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index",
                      "flow_state": "BOOT_SOURCE"
                    }
                  ],
                  "outputs": [
                    {
                      "name": "output",
                      "primitive_name": "output",
                      "flow_state": "UNBOUND"
                    }
                  ]
                }
              ],
              "links_if_false": [
                {
                  "source": {
                    "operation": "this",
                    "data": "Array"
                  },
                  "sink": {
                    "operation": "expand_one_dimension",
                    "data": "input"
                  },
                  "control_points": []
                },
                {
                  "source": {
                    "operation": "expand_one_dimension",
                    "data": "output"
                  },
                  "sink": {
                    "operation": "this",
                    "data": "Output"
                  },
                  "control_points": []
                }
              ],
              "condition": {
                "name": "Is True"
              }
            }
          ],
          "links": [
            {
              "source": {
                "operation": "this",
                "data": "col array "
              },
              "sink": {
                "operation": "get_shape",
                "data": "input"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "get_shape",
                "data": "shape"
              },
              "sink": {
                "operation": "get_dimension_size",
                "data": "array"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "Transpose",
                "data": "Output"
              },
              "sink": {
                "operation": "this",
                "data": "col array.T"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "get_dimension_size",
                "data": "dimension_size"
              },
              "sink": {
                "operation": "greater_than",
                "data": "left_operand"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "greater_than",
                "data": "is_greater_than"
              },
              "sink": {
                "operation": "Transpose",
                "data": "Is True"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "this",
                "data": "col array "
              },
              "sink": {
                "operation": "Transpose",
                "data": "Array"
              },
              "control_points": [
                {
                  "x": 344,
                  "y": 432
                },
                {
                  "x": 1756,
                  "y": 432
                }
              ]
            }
          ]
        }
      ],
      "links_if_true": [
        {
          "source": {
            "operation": "this",
            "data": "shape"
          },
          "sink": {
            "operation": "get_num_rows",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "shape"
          },
          "sink": {
            "operation": "get_num_cols",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_num_rows",
            "data": "num_rows"
          },
          "sink": {
            "operation": "get_row_array",
            "data": "end = rows-1"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_num_cols",
            "data": "num_cols"
          },
          "sink": {
            "operation": "get_col_array",
            "data": "end = cols-1"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_col_array",
            "data": "col array"
          },
          "sink": {
            "operation": "Transpose 1D and 2D",
            "data": "col array "
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "Transpose 1D and 2D",
            "data": "col array.T"
          },
          "sink": {
            "operation": "this",
            "data": "col array"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_row_array",
            "data": "row array"
          },
          "sink": {
            "operation": "this",
            "data": "row array"
          },
          "control_points": []
        }
      ],
      "operations_if_false": [
        {
          "name": "get_num_rows",
          "primitive_name": "reduce_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 291,
            "y": 44
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "selected_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "selected_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "num_rows",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "get_num_cols",
          "primitive_name": "reduce_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 286,
            "y": 246
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "selected_index",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "selected_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "output",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "get_row_array",
          "primitive_name": "range",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 647,
            "y": 42
          },
          "inputs": [
            {
              "name": "start_value",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "start_value",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "end = rows-1",
              "primitive_name": "end_value"
            },
            {
              "name": "step_value",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "step_value",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "row array",
              "primitive_name": "vector",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "range_1",
          "primitive_name": "range",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 649,
            "y": 246
          },
          "inputs": [
            {
              "name": "start = 0",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "start_value",
              "flow_state": "BOOT_SOURCE"
            },
            {
              "name": "end = cols-1",
              "primitive_name": "end_value"
            },
            {
              "name": "step = 1",
              "data": 1,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "step_value",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "col array",
              "primitive_name": "vector",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "Transpose 1D and 2D",
          "type": "COMPOSITE_OPERATION",
          "position": {
            "x": 995,
            "y": 246
          },
          "inputs": [
            {
              "name": "col array",
              "primitive_name": "Array"
            }
          ],
          "outputs": [
            {
              "name": "col array.T",
              "primitive_name": "Transposed Array",
              "flow_state": "UNBOUND"
            }
          ],
          "operations": [
            {
              "name": "get_shape",
              "primitive_name": "get_shape",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 416,
                "y": 195
              },
              "inputs": [
                {
                  "name": "input",
                  "primitive_name": "input"
                }
              ],
              "outputs": [
                {
                  "name": "shape",
                  "primitive_name": "shape",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "get_dimension_size",
              "primitive_name": "get_dimension_size",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 874,
                "y": 196
              },
              "inputs": [
                {
                  "name": "array",
                  "primitive_name": "array"
                },
                {
                  "name": "dimension_index",
                  "data": 0,
                  "shape": [],
                  "type": "INTEGER",
                  "primitive_name": "dimension_index",
                  "flow_state": "BOOT_SOURCE"
                }
              ],
              "outputs": [
                {
                  "name": "dimension_size",
                  "primitive_name": "dimension_size",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "greater_than",
              "primitive_name": "greater_than",
              "type": "PRIMITIVE_OPERATION",
              "position": {
                "x": 1356,
                "y": 196
              },
              "inputs": [
                {
                  "name": "left_operand",
                  "primitive_name": "left_operand"
                },
                {
                  "name": "right_operand",
                  "data": 1,
                  "shape": [],
                  "type": "INTEGER",
                  "primitive_name": "right_operand",
                  "flow_state": "BOOT_SOURCE"
                }
              ],
              "outputs": [
                {
                  "name": "is_greater_than",
                  "primitive_name": "is_greater_than",
                  "flow_state": "UNBOUND"
                }
              ]
            },
            {
              "name": "Transpose",
              "type": "CONDITIONAL_OPERATION",
              "position": {
                "x": 1878,
                "y": 196
              },
              "inputs": [
                {
                  "name": "Is True",
                  "primitive_name": "Is True"
                },
                {
                  "name": "Array",
                  "primitive_name": "New Input"
                }
              ],
              "outputs": [
                {
                  "name": "Output",
                  "primitive_name": "Output",
                  "flow_state": "UNBOUND"
                }
              ],
              "operations_if_true": [
                {
                  "name": "swap_dimensions",
                  "primitive_name": "swap_dimensions",
                  "type": "PRIMITIVE_OPERATION",
                  "position": {
                    "x": 592,
                    "y": 47
                  },
                  "inputs": [
                    {
                      "name": "array",
                      "primitive_name": "array"
                    },
                    {
                      "name": "dimension_index_1",
                      "data": 0,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index_1",
                      "flow_state": "BOOT_SOURCE"
                    },
                    {
                      "name": "dimension_index_2",
                      "data": 1,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index_2",
                      "flow_state": "BOOT_SOURCE"
                    }
                  ],
                  "outputs": [
                    {
                      "name": "swapped_array",
                      "primitive_name": "swapped_array",
                      "flow_state": "UNBOUND"
                    }
                  ]
                }
              ],
              "links_if_true": [
                {
                  "source": {
                    "operation": "this",
                    "data": "Array"
                  },
                  "sink": {
                    "operation": "swap_dimensions",
                    "data": "array"
                  },
                  "control_points": []
                },
                {
                  "source": {
                    "operation": "swap_dimensions",
                    "data": "swapped_array"
                  },
                  "sink": {
                    "operation": "this",
                    "data": "Output"
                  },
                  "control_points": []
                }
              ],
              "operations_if_false": [
                {
                  "name": "expand_one_dimension",
                  "primitive_name": "expand_one_dimension",
                  "type": "PRIMITIVE_OPERATION",
                  "position": {
                    "x": 534,
                    "y": 47
                  },
                  "inputs": [
                    {
                      "name": "input",
                      "primitive_name": "input"
                    },
                    {
                      "name": "dimension_index",
                      "data": 0,
                      "shape": [],
                      "type": "INTEGER",
                      "primitive_name": "dimension_index",
                      "flow_state": "BOOT_SOURCE"
                    }
                  ],
                  "outputs": [
                    {
                      "name": "output",
                      "primitive_name": "output",
                      "flow_state": "UNBOUND"
                    }
                  ]
                }
              ],
              "links_if_false": [
                {
                  "source": {
                    "operation": "this",
                    "data": "Array"
                  },
                  "sink": {
                    "operation": "expand_one_dimension",
                    "data": "input"
                  },
                  "control_points": []
                },
                {
                  "source": {
                    "operation": "expand_one_dimension",
                    "data": "output"
                  },
                  "sink": {
                    "operation": "this",
                    "data": "Output"
                  },
                  "control_points": []
                }
              ],
              "condition": {
                "name": "Is True"
              }
            }
          ],
          "links": [
            {
              "source": {
                "operation": "this",
                "data": "col array"
              },
              "sink": {
                "operation": "get_shape",
                "data": "input"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "get_shape",
                "data": "shape"
              },
              "sink": {
                "operation": "get_dimension_size",
                "data": "array"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "Transpose",
                "data": "Output"
              },
              "sink": {
                "operation": "this",
                "data": "col array.T"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "get_dimension_size",
                "data": "dimension_size"
              },
              "sink": {
                "operation": "greater_than",
                "data": "left_operand"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "greater_than",
                "data": "is_greater_than"
              },
              "sink": {
                "operation": "Transpose",
                "data": "Is True"
              },
              "control_points": []
            },
            {
              "source": {
                "operation": "this",
                "data": "col array"
              },
              "sink": {
                "operation": "Transpose",
                "data": "Array"
              },
              "control_points": [
                {
                  "x": 344,
                  "y": 432
                },
                {
                  "x": 1756,
                  "y": 432
                }
              ]
            }
          ]
        }
      ],
      "links_if_false": [
        {
          "source": {
            "operation": "this",
            "data": "shape"
          },
          "sink": {
            "operation": "get_num_cols",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "shape"
          },
          "sink": {
            "operation": "get_num_rows",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_num_rows",
            "data": "num_rows"
          },
          "sink": {
            "operation": "get_row_array",
            "data": "end = rows-1"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_num_cols",
            "data": "output"
          },
          "sink": {
            "operation": "range_1",
            "data": "end = cols-1"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "range_1",
            "data": "col array"
          },
          "sink": {
            "operation": "Transpose 1D and 2D",
            "data": "col array"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "Transpose 1D and 2D",
            "data": "col array.T"
          },
          "sink": {
            "operation": "this",
            "data": "col array"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "get_row_array",
            "data": "row array"
          },
          "sink": {
            "operation": "this",
            "data": "row array"
          },
          "control_points": []
        }
      ],
      "condition": {
        "name": "Is True"
      }
    },
    {
      "name": "get_col_array_shape",
      "primitive_name": "get_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 1749,
        "y": 1213
      },
      "inputs": [
        {
          "name": "col array",
          "primitive_name": "input"
        }
      ],
      "outputs": [
        {
          "name": "num_cols",
          "primitive_name": "shape",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "broadcast diag to col shape",
      "primitive_name": "broadcast_to_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 2097,
        "y": 1128
      },
      "inputs": [
        {
          "name": "target",
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "target",
          "flow_state": "BOOT_SINK"
        },
        {
          "name": "shape",
          "primitive_name": "shape"
        }
      ],
      "outputs": [
        {
          "name": "diag_array",
          "primitive_name": "result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "element wise col - diag",
      "primitive_name": "subtract",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 2479,
        "y": 1082
      },
      "inputs": [
        {
          "name": "col_array",
          "primitive_name": "left_operand"
        },
        {
          "name": "diag_array",
          "primitive_name": "right_operand"
        }
      ],
      "outputs": [
        {
          "name": "col-diag array",
          "primitive_name": "subtracted_result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "get_row_array_shape",
      "primitive_name": "get_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 1749,
        "y": 628
      },
      "inputs": [
        {
          "name": "row array",
          "primitive_name": "input"
        }
      ],
      "outputs": [
        {
          "name": "row_shape",
          "primitive_name": "shape",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "get_num_rows",
      "primitive_name": "reduce_one_dimension",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 2153,
        "y": 461
      },
      "inputs": [
        {
          "name": "input",
          "primitive_name": "input"
        },
        {
          "name": "dimension_index",
          "data": 0,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "dimension_index",
          "flow_state": "BOOT_SOURCE"
        },
        {
          "name": "selected_index",
          "data": 0,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "selected_index",
          "flow_state": "BOOT_SOURCE"
        }
      ],
      "outputs": [
        {
          "name": "output",
          "primitive_name": "output",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "Zeros",
      "primitive_name": "broadcast_to_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 4215,
        "y": 1083
      },
      "inputs": [
        {
          "name": "target",
          "data": 0.0,
          "shape": [],
          "type": "DECIMAL",
          "primitive_name": "target",
          "flow_state": "BOOT_SOURCE"
        },
        {
          "name": "shape",
          "primitive_name": "shape"
        }
      ],
      "outputs": [
        {
          "name": "result",
          "primitive_name": "result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "get [rows, cols]",
      "type": "COMPOSITE_OPERATION",
      "position": {
        "x": 2564,
        "y": 554
      },
      "inputs": [
        {
          "name": "Input",
          "primitive_name": "Input"
        },
        {
          "name": "rows",
          "primitive_name": "Input (1)"
        },
        {
          "name": "Dimension",
          "data": 0,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "Input (1)",
          "flow_state": "BOOT_SOURCE"
        },
        {
          "name": "Index",
          "data": 0,
          "shape": [],
          "type": "INTEGER",
          "primitive_name": "Input (1)",
          "flow_state": "BOOT_SOURCE"
        }
      ],
      "outputs": [
        {
          "name": "[rows, cols]",
          "primitive_name": "Output",
          "flow_state": "UNBOUND"
        }
      ],
      "operations": [
        {
          "name": "get_shape_1",
          "primitive_name": "get_shape",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 411,
            "y": 43
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            }
          ],
          "outputs": [
            {
              "name": "shape",
              "primitive_name": "shape",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "broadcast_to_shape_1",
          "primitive_name": "broadcast_to_shape",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 919,
            "y": 108
          },
          "inputs": [
            {
              "name": "target",
              "primitive_name": "target"
            },
            {
              "name": "shape",
              "primitive_name": "shape"
            }
          ],
          "outputs": [
            {
              "name": "result",
              "primitive_name": "result",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "expand_one_dimension",
          "primitive_name": "expand_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 309,
            "y": 579
          },
          "inputs": [
            {
              "name": "input",
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "input",
              "flow_state": "BOOT_SINK"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "output",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "scatter",
          "primitive_name": "scatter",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 1691,
            "y": 455
          },
          "inputs": [
            {
              "name": "source_array",
              "primitive_name": "source_array"
            },
            {
              "name": "receiver_array",
              "primitive_name": "receiver_array"
            },
            {
              "name": "dimension_index",
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SINK"
            },
            {
              "name": "selected_indices",
              "shape": [
                1
              ],
              "type": "INTEGER",
              "primitive_name": "selected_indices",
              "flow_state": "REF_SINK"
            }
          ],
          "outputs": [
            {
              "name": "output",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        },
        {
          "name": "Is Scalar",
          "primitive_name": "Is Scalar",
          "type": "CLIENT_SIDE_CONSTRAINT_OPERATION",
          "position": {
            "x": 512,
            "y": 359
          },
          "inputs": [
            {
              "name": "variable",
              "primitive_name": "variable"
            }
          ],
          "outputs": []
        }
      ],
      "links": [
        {
          "source": {
            "operation": "get_shape_1",
            "data": "shape"
          },
          "sink": {
            "operation": "broadcast_to_shape_1",
            "data": "shape"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "Input"
          },
          "sink": {
            "operation": "get_shape_1",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "rows"
          },
          "sink": {
            "operation": "broadcast_to_shape_1",
            "data": "target"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "broadcast_to_shape_1",
            "data": "result"
          },
          "sink": {
            "operation": "scatter",
            "data": "source_array"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "Input"
          },
          "sink": {
            "operation": "scatter",
            "data": "receiver_array"
          },
          "control_points": [
            {
              "x": 854,
              "y": 559
            }
          ]
        },
        {
          "source": {
            "operation": "this",
            "data": "Index"
          },
          "sink": {
            "operation": "expand_one_dimension",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "expand_one_dimension",
            "data": "output"
          },
          "sink": {
            "operation": "scatter",
            "data": "selected_indices"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "Dimension"
          },
          "sink": {
            "operation": "scatter",
            "data": "dimension_index"
          },
          "control_points": [
            {
              "x": 672,
              "y": 604
            }
          ]
        },
        {
          "source": {
            "operation": "scatter",
            "data": "output"
          },
          "sink": {
            "operation": "this",
            "data": "[rows, cols]"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "this",
            "data": "rows"
          },
          "sink": {
            "operation": "Is Scalar",
            "data": "variable"
          },
          "control_points": []
        }
      ]
    },
    {
      "name": "broadcast col-diag to  [rows, cols]",
      "primitive_name": "broadcast_to_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 3047,
        "y": 886
      },
      "inputs": [
        {
          "name": "target",
          "primitive_name": "target"
        },
        {
          "name": "shape",
          "primitive_name": "shape"
        }
      ],
      "outputs": [
        {
          "name": "result",
          "primitive_name": "result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "broadcast row to [rows, cols]",
      "primitive_name": "broadcast_to_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 3054,
        "y": 689
      },
      "inputs": [
        {
          "name": "target",
          "primitive_name": "target"
        },
        {
          "name": "shape",
          "primitive_name": "shape"
        }
      ],
      "outputs": [
        {
          "name": "result",
          "primitive_name": "result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "greater_than",
      "primitive_name": "greater_than",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 3517,
        "y": 689
      },
      "inputs": [
        {
          "name": "left_operand",
          "primitive_name": "left_operand"
        },
        {
          "name": "right_operand",
          "primitive_name": "right_operand"
        }
      ],
      "outputs": [
        {
          "name": "is_greater_than",
          "primitive_name": "is_greater_than",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "equal_1",
      "primitive_name": "equal",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 3519,
        "y": 885
      },
      "inputs": [
        {
          "name": "left_operand",
          "primitive_name": "left_operand"
        },
        {
          "name": "right_operand",
          "primitive_name": "right_operand"
        }
      ],
      "outputs": [
        {
          "name": "is_equal",
          "primitive_name": "is_equal",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "logical_or",
      "primitive_name": "logical_or",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 3835,
        "y": 766
      },
      "inputs": [
        {
          "name": "condition_1",
          "primitive_name": "condition_1"
        },
        {
          "name": "condition_2",
          "primitive_name": "condition_2"
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "primitive_name": "new_condition",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "add dimension if original shape = 3D",
      "type": "CONDITIONAL_OPERATION",
      "position": {
        "x": 4210,
        "y": 820
      },
      "inputs": [
        {
          "name": "Is True",
          "primitive_name": "Is True"
        },
        {
          "name": "filter",
          "primitive_name": "Input"
        }
      ],
      "outputs": [
        {
          "name": "Output",
          "primitive_name": "Output",
          "flow_state": "UNBOUND"
        }
      ],
      "operations_if_true": [
        {
          "name": "expand_one_dimension",
          "primitive_name": "expand_one_dimension",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 328,
            "y": 74
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            },
            {
              "name": "dimension_index",
              "data": 0,
              "shape": [],
              "type": "INTEGER",
              "primitive_name": "dimension_index",
              "flow_state": "BOOT_SOURCE"
            }
          ],
          "outputs": [
            {
              "name": "output",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        }
      ],
      "links_if_true": [
        {
          "source": {
            "operation": "this",
            "data": "filter"
          },
          "sink": {
            "operation": "expand_one_dimension",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "expand_one_dimension",
            "data": "output"
          },
          "sink": {
            "operation": "this",
            "data": "Output"
          },
          "control_points": []
        }
      ],
      "operations_if_false": [
        {
          "name": "identity",
          "primitive_name": "identity",
          "type": "PRIMITIVE_OPERATION",
          "position": {
            "x": 638,
            "y": 66
          },
          "inputs": [
            {
              "name": "input",
              "primitive_name": "input"
            }
          ],
          "outputs": [
            {
              "name": "output",
              "primitive_name": "output",
              "flow_state": "UNBOUND"
            }
          ]
        }
      ],
      "links_if_false": [
        {
          "source": {
            "operation": "this",
            "data": "filter"
          },
          "sink": {
            "operation": "identity",
            "data": "input"
          },
          "control_points": []
        },
        {
          "source": {
            "operation": "identity",
            "data": "output"
          },
          "sink": {
            "operation": "this",
            "data": "Output"
          },
          "control_points": []
        }
      ],
      "condition": {
        "name": "Is True"
      }
    },
    {
      "name": "broadcast to original shape",
      "primitive_name": "broadcast_to_shape",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 4652,
        "y": 820
      },
      "inputs": [
        {
          "name": "target",
          "primitive_name": "target"
        },
        {
          "name": "shape",
          "primitive_name": "shape"
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "primitive_name": "result",
          "flow_state": "UNBOUND"
        }
      ]
    },
    {
      "name": "conditional_filter",
      "primitive_name": "conditional_filter",
      "type": "PRIMITIVE_OPERATION",
      "position": {
        "x": 5060,
        "y": 820
      },
      "inputs": [
        {
          "name": "condition",
          "primitive_name": "condition"
        },
        {
          "name": "stay if true",
          "primitive_name": "data_if_true"
        },
        {
          "name": "0 if false",
          "primitive_name": "data_if_false"
        }
      ],
      "outputs": [
        {
          "name": "output",
          "primitive_name": "output_data",
          "flow_state": "UNBOUND"
        }
      ]
    }
  ],
  "links": [
    {
      "source": {
        "operation": "this",
        "data": "Matrix"
      },
      "sink": {
        "operation": "get_shape",
        "data": "input"
      },
      "control_points": [
        {
          "x": 198,
          "y": 109
        },
        {
          "x": 233,
          "y": 109
        },
        {
          "x": 233,
          "y": 408
        }
      ]
    },
    {
      "source": {
        "operation": "this",
        "data": "Matrix"
      },
      "sink": {
        "operation": "Is Array",
        "data": "variable"
      },
      "control_points": [
        {
          "x": 196,
          "y": 109
        },
        {
          "x": 196,
          "y": 109
        }
      ]
    },
    {
      "source": {
        "operation": "this",
        "data": "Diagonal"
      },
      "sink": {
        "operation": "Data Type Is Integer",
        "data": "variable"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "this",
        "data": "Diagonal"
      },
      "sink": {
        "operation": "Is Scalar",
        "data": "variable"
      },
      "control_points": [
        {
          "x": 197,
          "y": 165
        },
        {
          "x": 319,
          "y": 165
        },
        {
          "x": 319,
          "y": 270
        }
      ]
    },
    {
      "source": {
        "operation": "dimension == 3?",
        "data": "is_equal"
      },
      "sink": {
        "operation": "Get row, col arrays",
        "data": "Is True"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "get_shape",
        "data": "shape"
      },
      "sink": {
        "operation": "Get row, col arrays",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 573,
          "y": 408
        },
        {
          "x": 597,
          "y": 410
        },
        {
          "x": 595,
          "y": 906
        },
        {
          "x": 1119,
          "y": 906
        },
        {
          "x": 1270,
          "y": 906
        },
        {
          "x": 1270,
          "y": 815
        }
      ]
    },
    {
      "source": {
        "operation": "get_shape",
        "data": "shape"
      },
      "sink": {
        "operation": "get_dimension_size",
        "data": "array"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "Get row, col arrays",
        "data": "col array"
      },
      "sink": {
        "operation": "get_col_array_shape",
        "data": "col array"
      },
      "control_points": [
        {
          "x": 1670,
          "y": 815
        },
        {
          "x": 1713,
          "y": 815
        },
        {
          "x": 1713,
          "y": 1278
        }
      ]
    },
    {
      "source": {
        "operation": "get_col_array_shape",
        "data": "num_cols"
      },
      "sink": {
        "operation": "broadcast diag to col shape",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 2065,
          "y": 1278
        },
        {
          "x": 2065,
          "y": 1239
        }
      ]
    },
    {
      "source": {
        "operation": "this",
        "data": "Diagonal"
      },
      "sink": {
        "operation": "broadcast diag to col shape",
        "data": "target"
      },
      "control_points": [
        {
          "x": 200,
          "y": 165
        },
        {
          "x": 200,
          "y": 563
        },
        {
          "x": 200,
          "y": 1193
        },
        {
          "x": 1823,
          "y": 1193
        },
        {
          "x": 2041,
          "y": 1193
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast diag to col shape",
        "data": "diag_array"
      },
      "sink": {
        "operation": "element wise col - diag",
        "data": "diag_array"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "Get row, col arrays",
        "data": "col array"
      },
      "sink": {
        "operation": "element wise col - diag",
        "data": "col_array"
      },
      "control_points": [
        {
          "x": 1703,
          "y": 815
        },
        {
          "x": 2409,
          "y": 815
        },
        {
          "x": 2409,
          "y": 1147
        }
      ]
    },
    {
      "source": {
        "operation": "Get row, col arrays",
        "data": "row array"
      },
      "sink": {
        "operation": "get_row_array_shape",
        "data": "row array"
      },
      "control_points": [
        {
          "x": 1703,
          "y": 769
        },
        {
          "x": 1703,
          "y": 693
        }
      ]
    },
    {
      "source": {
        "operation": "get_row_array_shape",
        "data": "row_shape"
      },
      "sink": {
        "operation": "get_num_rows",
        "data": "input"
      },
      "control_points": [
        {
          "x": 2078,
          "y": 693
        },
        {
          "x": 2078,
          "y": 526
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast col-diag to  [rows, cols]",
        "data": "result"
      },
      "sink": {
        "operation": "equal_1",
        "data": "right_operand"
      },
      "control_points": [
        {
          "x": 3407,
          "y": 951
        },
        {
          "x": 3407,
          "y": 996
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast row to [rows, cols]",
        "data": "result"
      },
      "sink": {
        "operation": "equal_1",
        "data": "left_operand"
      },
      "control_points": [
        {
          "x": 3394,
          "y": 754
        },
        {
          "x": 3460,
          "y": 754
        },
        {
          "x": 3460,
          "y": 950
        }
      ]
    },
    {
      "source": {
        "operation": "greater_than",
        "data": "is_greater_than"
      },
      "sink": {
        "operation": "logical_or",
        "data": "condition_1"
      },
      "control_points": [
        {
          "x": 3791,
          "y": 754
        },
        {
          "x": 3814,
          "y": 754
        },
        {
          "x": 3814,
          "y": 831
        }
      ]
    },
    {
      "source": {
        "operation": "equal_1",
        "data": "is_equal"
      },
      "sink": {
        "operation": "logical_or",
        "data": "condition_2"
      },
      "control_points": [
        {
          "x": 3793,
          "y": 950
        },
        {
          "x": 3819,
          "y": 950
        },
        {
          "x": 3819,
          "y": 877
        }
      ]
    },
    {
      "source": {
        "operation": "dimension == 3?",
        "data": "is_equal"
      },
      "sink": {
        "operation": "add dimension if original shape = 3D",
        "data": "Is True"
      },
      "control_points": [
        {
          "x": 1250,
          "y": 769
        },
        {
          "x": 1296,
          "y": 769
        },
        {
          "x": 1296,
          "y": 1030
        },
        {
          "x": 4163,
          "y": 1030
        },
        {
          "x": 4163,
          "y": 885
        }
      ]
    },
    {
      "source": {
        "operation": "logical_or",
        "data": "mask"
      },
      "sink": {
        "operation": "add dimension if original shape = 3D",
        "data": "filter"
      },
      "control_points": [
        {
          "x": 4175,
          "y": 831
        },
        {
          "x": 4175,
          "y": 931
        }
      ]
    },
    {
      "source": {
        "operation": "add dimension if original shape = 3D",
        "data": "Output"
      },
      "sink": {
        "operation": "broadcast to original shape",
        "data": "target"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "get_shape",
        "data": "shape"
      },
      "sink": {
        "operation": "broadcast to original shape",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 592,
          "y": 408
        },
        {
          "x": 592,
          "y": 325
        },
        {
          "x": 3902,
          "y": 325
        },
        {
          "x": 4609,
          "y": 325
        },
        {
          "x": 4609,
          "y": 931
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast to original shape",
        "data": "mask"
      },
      "sink": {
        "operation": "conditional_filter",
        "data": "condition"
      },
      "control_points": []
    },
    {
      "source": {
        "operation": "this",
        "data": "Matrix"
      },
      "sink": {
        "operation": "conditional_filter",
        "data": "stay if true"
      },
      "control_points": [
        {
          "x": 231,
          "y": 109
        },
        {
          "x": 231,
          "y": 1350
        },
        {
          "x": 2197,
          "y": 1350
        },
        {
          "x": 4972,
          "y": 1350
        },
        {
          "x": 4972,
          "y": 931
        }
      ]
    },
    {
      "source": {
        "operation": "get_shape",
        "data": "shape"
      },
      "sink": {
        "operation": "Zeros",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 595,
          "y": 408
        },
        {
          "x": 595,
          "y": 1316
        },
        {
          "x": 2858,
          "y": 1316
        },
        {
          "x": 2858,
          "y": 1272
        },
        {
          "x": 2858,
          "y": 1194
        }
      ]
    },
    {
      "source": {
        "operation": "Zeros",
        "data": "result"
      },
      "sink": {
        "operation": "conditional_filter",
        "data": "0 if false"
      },
      "control_points": [
        {
          "x": 5003,
          "y": 1148
        },
        {
          "x": 5003,
          "y": 976
        }
      ]
    },
    {
      "source": {
        "operation": "get_dimension_size",
        "data": "dimension_size"
      },
      "sink": {
        "operation": "dimension == 3?",
        "data": "left_operand"
      },
      "control_points": [
        {
          "x": 929,
          "y": 408
        },
        {
          "x": 929,
          "y": 769
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast col-diag to  [rows, cols]",
        "data": "result"
      },
      "sink": {
        "operation": "greater_than",
        "data": "right_operand"
      },
      "control_points": [
        {
          "x": 3403,
          "y": 951
        },
        {
          "x": 3403,
          "y": 800
        }
      ]
    },
    {
      "source": {
        "operation": "broadcast row to [rows, cols]",
        "data": "result"
      },
      "sink": {
        "operation": "greater_than",
        "data": "left_operand"
      },
      "control_points": [
        {
          "x": 3435,
          "y": 756
        },
        {
          "x": 3433,
          "y": 754
        }
      ]
    },
    {
      "source": {
        "operation": "element wise col - diag",
        "data": "col-diag array"
      },
      "sink": {
        "operation": "broadcast col-diag to  [rows, cols]",
        "data": "target"
      },
      "control_points": [
        {
          "x": 2921,
          "y": 1147
        },
        {
          "x": 2921,
          "y": 951
        }
      ]
    },
    {
      "source": {
        "operation": "Get row, col arrays",
        "data": "row array"
      },
      "sink": {
        "operation": "broadcast row to [rows, cols]",
        "data": "target"
      },
      "control_points": [
        {
          "x": 2459,
          "y": 769
        },
        {
          "x": 2459,
          "y": 857
        },
        {
          "x": 2913,
          "y": 857
        },
        {
          "x": 2913,
          "y": 754
        }
      ]
    },
    {
      "source": {
        "operation": "conditional_filter",
        "data": "output"
      },
      "sink": {
        "operation": "this",
        "data": "output"
      },
      "control_points": [
        {
          "x": 5405,
          "y": 885
        },
        {
          "x": 5405,
          "y": 109
        }
      ]
    },
    {
      "source": {
        "operation": "get_num_rows",
        "data": "output"
      },
      "sink": {
        "operation": "get [rows, cols]",
        "data": "rows"
      },
      "control_points": [
        {
          "x": 2490,
          "y": 526
        },
        {
          "x": 2490,
          "y": 665
        }
      ]
    },
    {
      "source": {
        "operation": "get_col_array_shape",
        "data": "num_cols"
      },
      "sink": {
        "operation": "get [rows, cols]",
        "data": "Input"
      },
      "control_points": [
        {
          "x": 2063,
          "y": 1278
        },
        {
          "x": 2063,
          "y": 914
        },
        {
          "x": 2513,
          "y": 914
        },
        {
          "x": 2513,
          "y": 619
        }
      ]
    },
    {
      "source": {
        "operation": "get [rows, cols]",
        "data": "[rows, cols]"
      },
      "sink": {
        "operation": "broadcast row to [rows, cols]",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 2951,
          "y": 619
        },
        {
          "x": 2951,
          "y": 800
        }
      ]
    },
    {
      "source": {
        "operation": "get [rows, cols]",
        "data": "[rows, cols]"
      },
      "sink": {
        "operation": "broadcast col-diag to  [rows, cols]",
        "data": "shape"
      },
      "control_points": [
        {
          "x": 2952,
          "y": 619
        },
        {
          "x": 2952,
          "y": 997
        }
      ]
    }
  ],
  "global_constants": [],
  "description": [
    "Triangulates a matrix above an inputted diagonal"
  ]
}